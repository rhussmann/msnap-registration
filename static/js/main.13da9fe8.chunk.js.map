{"version":3,"sources":["Routes.tsx","state/state.tsx","components/Spinner.tsx","components/BusDash.tsx","components/FixItBus.tsx","components/Header.tsx","components/StateSummary.tsx","routes/Home.tsx","routes/VoucherRequestGForm.tsx","state/effects.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Routes","ActionType","defaultState","bus","capacity","seatsTaken","initialized","StateContext","createContext","reducer","state","action","console","log","currentState","type","SET_BUS_INFO","info","SET_APP_INITIALIZED","StateProvider","props","children","injectedReducer","injectedDefaultState","Provider","value","useReducer","useStateValue","useContext","useStyles","makeStyles","theme","createStyles","progress","margin","spacing","color","Spinner","classes","CircularProgress","className","dash","display","width","DriverModal","open","onClose","Dialog","aria-labelledby","DialogTitle","id","BusDash","React","useState","setOpen","alt","src","onClick","seatCommon","height","seatContainerWidth","occupiedSeat","backgroundImage","backgroundSize","backgroundRepeat","backgroundPositionY","openSeat","borderWidth","backgroundColor","borderColor","borderRadius","borderStyle","opacity","filter","aisleSpacer","seatContainer","flexWrap","busWrap","flexDirection","justifyContent","busHood","busBody","padding","borderTop","borderLeft","borderRight","borderBottom","mirror","marginTop","flip","transform","spinnerContainer","BusSeat","occupied","Tooltip","title","to","CenterAisleSpacer","BusSeats","seats","i","push","key","Math","floor","seatsPerRow","FixItBus","Header","Typography","variant","StateSummary","container","alignItems","left","right","button","pageContainer","link","textDecoration","Home","buttonEnabled","Button","disabled","size","Grid","item","href","target","rel","iframe","paddingTop","flex","VoucherRequestGForm","frameBorder","dispatch","a","Tabletop","init","simpleSheet","parseNumbers","data","seats_available","seats_taken","error","Initializer","useEffect","initializeAppEffect","App","path","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.13da9fe8.chunk.js","sourcesContent":["export const Routes = {\n  Home: \"/\",\n  VoucherRequestGForm: \"/voucher-request-goog\",\n};\n","import React, { createContext, useContext, useReducer, Reducer, Dispatch } from \"react\";\n\n// Based on https://medium.com/simply/state-management-with-react-hooks-and-context-api-at-10-lines-of-code-baf6be8302c\n\nexport interface AppState {\n  bus: BusInfo;\n  initialized: boolean;\n}\n\nexport interface BusInfo {\n  capacity: number;\n  seatsTaken: number;\n}\n\nconst defaultState: AppState = {\n  bus: {\n    capacity: 40,\n    seatsTaken: 0,\n  },\n  initialized: false,\n};\n\nexport type AppReducer = Reducer<AppState, Actions>;\nexport const StateContext = createContext<[AppState, Dispatch<Actions>]>([defaultState, () => void 0]);\n\nexport enum ActionType {\n  SET_BUS_INFO,\n  SET_APP_INITIALIZED,\n}\ninterface Action<T extends ActionType> {\n  type: T;\n}\n\ninterface SetBusInfoAction extends Action<ActionType.SET_BUS_INFO> {\n  info: BusInfo;\n}\n\ninterface SetAppInitializedAction extends Action<ActionType.SET_APP_INITIALIZED> {}\n\nexport type Actions = SetBusInfoAction | SetAppInitializedAction;\n\nexport const reducer: AppReducer = (state, action) => {\n  console.log(\"Dispatching action\", { currentState: state, action });\n  switch (action.type) {\n    case ActionType.SET_BUS_INFO:\n      return {\n        ...state,\n        bus: action.info,\n      };\n    case ActionType.SET_APP_INITIALIZED:\n      return {\n        ...state,\n        initialized: true,\n      };\n  }\n  return state;\n};\n\ninterface StateProviderProps {\n  injectedReducer?: AppReducer;\n  injectedDefaultState?: AppState;\n}\nexport const StateProvider: React.FC<StateProviderProps> = props => {\n  const { children, injectedReducer = reducer, injectedDefaultState = defaultState } = props;\n  return (\n    <StateContext.Provider value={useReducer<AppReducer>(injectedReducer, injectedDefaultState)}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n\nexport const useStateValue = () => useContext(StateContext);\n\nexport type Dispatch = React.Dispatch<Actions>;\n","import React from \"react\";\nimport { CircularProgress, createStyles, makeStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    progress: {\n      margin: theme.spacing(2),\n      color: \"#333e50\",\n    },\n  })\n);\n\nexport const Spinner: React.FC = () => {\n  const classes = useStyles();\n  return <CircularProgress className={classes.progress} />;\n};\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nconst useStyles = makeStyles({\n  dash: {\n    display: \"block\",\n    width: \"100%\",\n  },\n});\n\ninterface Props {\n  open: boolean;\n  onClose: Function;\n}\n\nconst DriverModal: React.FC<Props> = ({ open, onClose }) => {\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <Dialog aria-labelledby=\"simple-dialog-title\" open={open} onClose={handleClose}>\n      <DialogTitle id=\"simple-dialog-title\">Why a bus?</DialogTitle>\n      <div>\n        Etiam tempor orci eu lobortis elementum nibh tellus molestie. Neque egestas congue quisque egestas. Egestas\n        integer eget aliquet nibh praesent tristique. Vulputate mi sit amet mauris. Sodales neque sodales ut etiam sit.\n        Dignissim suspendisse in est ante in. Volutpat commodo sed egestas egestas. Felis donec et odio pellentesque\n        diam. Pharetra vel turpis nunc eget lorem dolor sed viverra. Porta nibh venenatis cras sed felis eget. Aliquam\n        ultrices sagittis orci a. Dignissim diam quis enim lobortis. Aliquet porttitor lacus luctus accumsan. Dignissim\n        convallis aenean et tortor at risus viverra adipiscing at.\n      </div>\n    </Dialog>\n  );\n};\n\nexport const BusDash = () => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <img alt=\"bus dash\" className={classes.dash} src=\"assets/bus.dash.svg\" onClick={handleClickOpen} />\n      <DriverModal open={open} onClose={handleClose} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/styles\";\nimport { Theme, Tooltip } from \"@material-ui/core\";\nimport { useStateValue } from \"../state/state\";\nimport { Spinner } from \"./Spinner\";\nimport { Routes } from \"../Routes\";\nimport { Link } from \"react-router-dom\";\nimport { BusDash } from \"../components/BusDash\";\n\nconst seatsPerRow = 6;\nconst isleWidth = 5;\nconst borderWidth = 2;\nconst seatCommon = {\n  margin: 2,\n  width: 30,\n  height: 30,\n};\nconst seatContainerWidth = (seatCommon.width + seatCommon.margin * 2) * seatsPerRow + isleWidth;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    occupiedSeat: {\n      ...seatCommon,\n      backgroundImage: \"url('assets/paw_print.png')\",\n      backgroundSize: 30,\n      backgroundRepeat: \"no-repeat\",\n      backgroundPositionY: -3,\n    },\n    openSeat: {\n      ...seatCommon,\n      width: seatCommon.width - borderWidth * 2,\n      height: seatCommon.height - borderWidth * 2,\n      backgroundColor: \"#d8dde3\",\n      borderColor: \"#3a4456\",\n      borderWidth,\n      borderRadius: 5,\n      borderStyle: \"solid\",\n      \"&:hover\": {\n        opacity: 0.5,\n        filter: \"alpha(opacity=50)\",\n      },\n    },\n    aisleSpacer: {\n      width: isleWidth,\n    },\n    seatContainer: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      width: seatContainerWidth,\n    },\n    busWrap: {\n      width: \"275px\",\n      margin: \"20px\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n    },\n    busHood: {\n      display: \"block\",\n      width: \"100%\",\n    },\n    busBody: {\n      display: \"block\",\n      padding: \"3px\",\n      borderTop: \"none\",\n      borderLeft: \"4px solid #fdb303\",\n      borderRight: \"4px solid #fdb303\",\n      borderBottom: \"4px solid #fdb303\",\n      backgroundColor: \"#eaeaea\",\n    },\n    mirror: {\n      marginTop: \"90px\",\n    },\n    flip: {\n      transform: \"scaleX(-1)\",\n    },\n    spinnerContainer: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      width: seatContainerWidth,\n    },\n  })\n);\n\ninterface Props {\n  occupied: boolean;\n}\nconst BusSeat: React.FC<Props> = ({ occupied }) => {\n  const classes = useStyles();\n  if (occupied) {\n    return <div className={classes.occupiedSeat} />;\n  }\n\n  return (\n    <Tooltip title=\"Get on the bus\">\n      <Link to={Routes.VoucherRequestGForm}>\n        <div className={classes.openSeat} />\n      </Link>\n    </Tooltip>\n  );\n};\n\nconst CenterAisleSpacer: React.FC = () => {\n  const classes = useStyles();\n  return <div className={classes.aisleSpacer} />;\n};\n\nconst BusSeats: React.FC = () => {\n  const classes = useStyles();\n  const { initialized, bus } = useStateValue()[0];\n\n  if (!initialized) {\n    return (\n      <div className={classes.spinnerContainer}>\n        <Spinner />\n      </div>\n    );\n  }\n\n  const seats = [];\n  for (let i = 0; i < bus.capacity; i++) {\n    seats.push(<BusSeat key={`seat${i}`} occupied={i < bus.seatsTaken} />);\n    if (i % seatsPerRow === Math.floor(seatsPerRow / 2) - 1) {\n      seats.push(<CenterAisleSpacer key={`aisle${i}`} />);\n    }\n  }\n  return <div className={classes.seatContainer}>{seats}</div>;\n};\n\nexport const FixItBus: React.FC = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.busWrap}>\n      <div className={classes.mirror}>\n        <img alt=\"bus left mirror\" src=\"assets/bus.mirror.svg\" />\n      </div>\n      <div>\n        <img alt=\"bus hood\" src=\"assets/bus.front.svg\" className={classes.busHood} />\n        <div className={classes.busBody}>\n          <BusDash />\n          <BusSeats />\n        </div>\n      </div>\n      <div className={classes.mirror}>\n        <img alt=\"bus right mirror\" src=\"assets/bus.mirror.svg\" className={classes.flip} />\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const Header = () => {\n  return (\n    <div>\n      <Typography variant=\"h2\">Fix it Bus</Typography>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useStateValue } from \"../state/state\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const StateSummary = () => {\n  const { initialized, bus } = useStateValue()[0];\n\n  if (initialized === false) {\n    return null;\n  }\n\n  return <Typography variant=\"body1\">{`${bus.seatsTaken} out of ${bus.capacity} seats taken`}</Typography>;\n};\n","import { Button, createStyles, Grid, makeStyles, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FixItBus } from \"../components/FixItBus\";\nimport { Header } from \"../components/Header\";\nimport { StateSummary } from \"../components/StateSummary\";\nimport { Routes } from \"../Routes\";\nimport { useStateValue } from \"../state/state\";\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      flexWrap: \"wrap\",\n    },\n    left: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"350px\",\n    },\n    right: {\n      width: \"700px\",\n      marginTop: \"45px\",\n      margin: \"20px\",\n    },\n    button: {\n      margin: theme.spacing(1),\n      width: 200,\n    },\n    pageContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    link: {\n      textDecoration: \"none\",\n    },\n  })\n);\n\nexport const Home: React.FC = () => {\n  const classes = useStyles();\n  const { initialized, bus } = useStateValue()[0];\n\n  const buttonEnabled = bus.seatsTaken < bus.capacity && initialized;\n  const button = (\n    <Button disabled={!buttonEnabled} variant=\"contained\" size=\"large\" color=\"primary\" className={classes.button}>\n      Request a seat\n    </Button>\n  );\n\n  return (\n    <div className={classes.pageContainer}>\n      <Header />\n      <Grid container className={classes.container}>\n        <Grid item className={classes.left}>\n          <FixItBus />\n          <StateSummary />\n          {buttonEnabled ? <Link to={Routes.VoucherRequestGForm} className={classes.link} children={button} /> : button}\n        </Grid>\n        <Grid item className={classes.right}>\n          <Typography variant=\"h5\">Qualifying for Assistance</Typography>\n          <Typography variant=\"body1\">\n            M-SNAP vouchers are available to residents of Monongalia County because only county residents can relinquish\n            pets to the county shelter. Our mission is to reduce the number of animals being euthanized at our county\n            shelter by increasing public awareness and promoting spay/neuter as the only viable solution to pet\n            overpopulation.\n          </Typography>\n          <Typography variant=\"body1\">\n            We assist caregivers who honestly do not have the resources to fix their animals. Our assistance is not\n            intended for those who have made the decision to purchase a dog or cat or those who have adopted an animal\n            from a shelter or rescue group that is regulated by the{\" \"}\n            <a href=\"/wp-content/uploads/2018/03/WVSNA.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">\n              WV Spay Neuter Act\n            </a>\n            .\n          </Typography>\n          <Typography variant=\"body1\">\n            M-SNAP began in January 2008, mailed its first voucher in October 2008, and received its 501(c)(3) status in\n            March 2009.\n          </Typography>\n          <Typography variant=\"h5\">Requesting a Spay/Neuter Voucher</Typography>\n          <Typography variant=\"body1\">\n            Reserve your seat on the bus! If we have vouchers available for the current period, you can{\" \"}\n            <Link to={Routes.VoucherRequestGForm}>request a seat</Link>. Our volunteer callers will reach out to you as\n            quickly as we can. If a volunteer makes three unsuccessful attempts to reach you, your seat will be made\n            available and you must submit your request again.\n          </Typography>\n          <Typography variant=\"body1\">We do not issue vouchers via email or Facebook.</Typography>\n          <Typography variant=\"h5\">Feral Colony Managers</Typography>\n          <Typography variant=\"body1\">\n            If you manage a feral cat colony in Monongalia County and need help paying for the trap-neuter-return (TNR)\n            spay/neuter operations, call us at{\" \"}\n            <b>\n              <a href=\"tel://304-985-0123\">(304) 985-0123</a>\n            </b>{\" \"}\n            and leave a message in mailbox #5. You will be required to register with our TNR Program.\n          </Typography>\n          <Typography variant=\"h5\">Pregnant Dogs and Cats</Typography>\n          <Typography variant=\"body1\">\n            If you have a visibly pregnant animal and wish to terminate the pregnancy, call us at{\" \"}\n            <b>\n              <a href=\"tel://304-985-0123\">(304) 985-0123</a>\n            </b>{\" \"}\n            and leave a message in mailbox #5.\n          </Typography>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { createStyles, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      height: \"100%\",\n    },\n    iframe: {\n      width: \"100%\",\n      height: \"100%\",\n      paddingTop: \"20px\",\n      flex: 1,\n    },\n  })\n);\n\nexport const VoucherRequestGForm: React.FC = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.container}>\n      <iframe\n        title=\"Voucher request from\"\n        frameBorder={0}\n        src=\"https://docs.google.com/forms/d/e/1FAIpQLSc72YM2okznNBg0c6VYawwO6tHdSkWpaQv_4N4NWNNCbo99Ig/viewform?embedded=true\"\n        className={classes.iframe}\n      >\n        Loadingâ€¦\n      </iframe>\n    </div>\n  );\n};\n","import { ActionType, Dispatch } from \"./state\";\nimport Tabletop from \"tabletop\";\n\nexport async function initializeAppEffect(dispatch: Dispatch) {\n  try {\n    const data = await Tabletop.init({\n      key: \"1lA4AENS26r3A8SkYU07d_Jc_Q1p6-7qgWLIk1qixpsE\",\n      simpleSheet: true,\n      parseNumbers: true,\n    });\n\n    console.log(\"Fetched app data\", { data });\n\n    dispatch({\n      type: ActionType.SET_APP_INITIALIZED,\n    });\n\n    dispatch({\n      type: ActionType.SET_BUS_INFO,\n      info: {\n        capacity: data[0].seats_available,\n        seatsTaken: data[0].seats_taken,\n      },\n    });\n  } catch (e) {\n    console.error(\"Unable to load google sheet\", e);\n  }\n}\n","import React, { useEffect } from \"react\";\nimport { Switch, Route, HashRouter } from \"react-router-dom\";\nimport { Routes } from \"./Routes\";\nimport { Home } from \"./routes/Home\";\nimport { VoucherRequestGForm } from \"./routes/VoucherRequestGForm\";\nimport { initializeAppEffect } from \"./state/effects\";\nimport { useStateValue, StateProvider } from \"./state/state\";\n\nconst Initializer: React.FC = () => {\n  const [{ initialized }, dispatch] = useStateValue();\n  useEffect(() => {\n    if (initialized === false) {\n      initializeAppEffect(dispatch);\n    }\n  });\n  return null;\n};\n\nconst App: React.FC = () => {\n  return (\n    <StateProvider>\n      <Initializer />\n      <HashRouter>\n        <Switch>\n          <Route path={Routes.VoucherRequestGForm}>\n            <VoucherRequestGForm />\n          </Route>\n          <Route path={Routes.Home}>\n            <Home />\n          </Route>\n        </Switch>\n      </HashRouter>\n    </StateProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}